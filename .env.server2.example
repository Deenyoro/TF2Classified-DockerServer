# =============================================================================
# TF2 Classified — Server 2 Configuration
# =============================================================================
# This server shares all game files with the primary server (no extra download).
# Only needs its own port, name, and configs.
#
# Start the primary server first, then:
#   docker compose --profile server2 up -d
# =============================================================================

# ─── Server Identity ────────────────────────────────────────────────────────
SERVER_NAME=My TF2 Classified Server 2
SERVER_PASSWORD=
RCON_PASSWORD=changeme

# ─── Gameplay ───────────────────────────────────────────────────────────────
START_MAP=ctf_2fort
MAX_PLAYERS=24
# IMPORTANT: Each server needs a unique port
SERVER_PORT=27016
TICKRATE=66

# ─── Networking ─────────────────────────────────────────────────────────────
STEAM_NETWORKING=true

# ─── Game File Updates ─────────────────────────────────────────────────────
# false = skip all game file downloads/updates. The primary server handles
# that. This server reads the shared volumes.
UPDATE_GAME_FILES=false
UPDATE_ON_START=false
VALIDATE_INSTALL=0

# ─── server.cfg Handling ────────────────────────────────────────────────────
SERVER_CFG_MODE=auto

# ─── Auto-Update ────────────────────────────────────────────────────────────
# Disabled — the primary server handles updates. When it restarts for an
# update, this server should be restarted too to pick up the new files.
AUTO_UPDATE=false
AUTO_UPDATE_INTERVAL=300

# ─── Server Browser Tags ───────────────────────────────────────────────────
SV_TAGS=

# ─── SourceMod Admin ───────────────────────────────────────────────────────
SM_ADMIN_STEAMID=

# ─── Extra Launch Arguments ────────────────────────────────────────────────
EXTRA_ARGS=

# ─── Mod Download URLs ─────────────────────────────────────────────────────
MMS_URL=https://mms.alliedmods.net/mmsdrop/2.0/mmsource-2.0.0-git1384-linux.tar.gz
SM_URL=https://sm.alliedmods.net/smdrop/1.13/sourcemod-1.13.0-git7293-linux.tar.gz
# SMJansson (JSON extension) is bundled in the image
INSTALL_MODS=true

# ─── FastDL ─────────────────────────────────────────────────────────────────
FASTDL_URL=

# ─── Docker Logging ───────────────────────────────────────────────────────
# Max size per log file (e.g., "10m", "50m", "100m")
LOG_MAX_SIZE=10m
# Number of rotated log files to keep
LOG_MAX_FILE=3

# ─── Container Settings ────────────────────────────────────────────────────
PUID=1000
PGID=1000
TZ=UTC
